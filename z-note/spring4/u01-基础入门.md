# 1. 概念入门

**概念：** Spring是2003年兴起的一个轻量级的JAVA开源框架，核心特性是控制反转和面向切面编程：
- 历史发展：
    - Spring1.x时代，只能使用xml配置java类，随着项目扩大，java类和xml文件的数量不断曾多，二者之间切换频繁。
    - Spring2.x时代，支持使用JDK1.5带来的注解配置java类，减少了xml配置代码，简化项目。
    - Spring3.x时代开始，支持使用纯java代码配置java类，SpringBoot推荐此种方案。
    - 总结：基本配置如数据源建议使用可读性高的XML配置，开发相关如Service注入Dao等建议使用简单的注解配置。
- 控制反转：IOC，Inversion of Control，就是将实例化过程和实例生命周期管理都交给spring容器，以解决侵入性和耦合度过高的问题。
- 依赖注入：DI，就是将IOC产生的实例注入到java类中的过程。
- 面向切面：AOP，Aspect Oriented Programming，面向切面的思想，就是通过预编译的方式在运行期使用动态代理实现的一种技术，主要作用于控制事务的传播，如一套下单事务中：
    - `orderDao.insert(order);`：添加订单后，事务应该向下传播。
    - `detailDao.insert(detail);`：添加明细后，事务不该向下传播。
    - `logDao.insert(log);`：无论添加成功该是失败，都应该记录日志。
- 官方下载：[Spring官方](https://repo.spring.io/release/org/springframework/spring)，建议下载 `spring-framework-4.3.14.RELEASE-dist` 版本：
    - Framework5.x 支持 JDK8+
    - Framework4.x 支持 JDK6+
    - Framework3.x 支持 JDK5+

> spring产品图解

# 2. 基础配通

**概念：**
- 引入最简依赖：
    - spring-core：核心包，被很多其他spring模块引用。
    - spring-beans：管理java类的包。
    - spring-context：Spring上下文包。
    - spring-context-support：Spring上下文包拓展包。
    - spring-expression：SpEL表达式语言包。
- 核心配置文件：`classpath:spring/start/app-start.xml`：
    - 配置文件就是spring容器，相当于一个鱼缸。
    - 头信息在 `7.2.1 Configuration metadata`
- 编写Student实体类：埋一个 `name` 属性并设置SetGet方法。
- 在spring容器中管理Student实体类：使用 `<bean></bean>` 来关联Student实体类，每一个 `<bean>` 都相当于是鱼缸中的一条鱼：
    - `<bean>` 标签中使用 `id` 属性设置唯一标识，可以随意命名。
    - `<bean>` 标签中使用 `class` 属性关联Student实体类的类全名。
- 测试：
    - `new ClassPathXmlApplicationContext()`：指定核心配置文件位置以造鱼缸。
    - `getBean()`：通过id的方式捞出对应Student实例类的那条鱼。
    - `setName()/getName()`：使用这条鱼。  
    - `close()`：砸鱼缸以释放资源。

**源码：** /spring4/
- res: `classpath:spring/start/app-start.xml`
- src: `c.j.pojo.Student`
- tst: `c.j.start.AppStartTest`
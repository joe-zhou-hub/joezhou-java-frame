# 1. 常亮注入

**概念：**
- 开发实体类 `Emp.java`

**源码：** Emp.java
```java
/**
 * @author JoeZhou
 */
@Data
public class Emp {
    private String name;
    private Integer age;
    private String[] hobby;
    private List<String> userList;
    private Set<String> userSet;
    private Map<String, Object> userMap;
    private Properties jdbc;

    public Emp() {
        System.out.println("Emp无参构造...");
    }

    public Emp(int num1, int num2) {
        System.out.println("int计算结果：" + (num1 + num2));
    }

    public Emp(double num1, double num2) {
        System.out.println("double计算结果：" + (num1 + num2));
    }
}
```

```!
所有注入的前提是，实体类的属性必须生成对应的 `set()`，建议在生成 `set()` 的同时，也生成 `get()`。
```

## 2. 注入属性常量

**概念：** `<bean>` 的子标签 `<property>` 专门负责对实体类的简单常量进行注入，`<property>` 有五个子标签：
- `<array>` 配合 `<value>`：负责注入数组常量。
- `<list>` 配合 `<value>`：负责注入列表常量。
- `<set>` 配合 `<value>`：负责注入集合常量。
- `<map>` 配合 `<entry>`：负责注入映射常量。
- `<props>` 配合 `<prop>`：负责注入属性文件。

**配置：** spring/di/app-constant.xml
```xml
<bean class="com.joe.pojo.Emp">
    <property name="name" value="赵四"/>
    <property name="age" value="56"/>
    
    <property name="hobby">
        <array>
            <value>抽烟</value>
            <value>喝酒</value>
            <value>烫头</value>
        </array>
    </property>
    
    <property name="userList">
        <list>
            <value>LiLei</value>
            <value>HanMeiMei</value>
        </list>
    </property>

    <property name="userSet">
        <set>
            <value>clerk</value>
            <value>manager</value>
        </set>
    </property>

    <property name="userMap">
        <map>
            <entry key="name" value="Rose"/>
            <entry key="age" value="18"/>
        </map>
    </property>

    <property name="jdbc">
        <props>
            <prop key="driver">com.mysql.cj.jdbc.Driver</prop>
            <prop key="url">jdbc:mysql://127.0.0.1:3306/joe</prop>
            <prop key="user">joe</prop>
            <prop key="password">joe</prop>
        </props>
    </property>
</bean>
```

**源码：** junit测试
```java
@Test
public void diConstant() {
    String configLocation = "spring/di/app-constant.xml";
    ClassPathXmlApplicationContext app = new ClassPathXmlApplicationContext(configLocation);
    Emp emp = app.getBean(Emp.class);
    System.out.println(emp.getName());
    System.out.println(emp.getAge());
    System.out.println(Arrays.toString(emp.getHobby()));
    System.out.println(emp.getUserList());
    System.out.println(emp.getUserSet());
    System.out.println(emp.getUserMap());
    System.out.println(emp.getJdbc());
    app.close();
}
```

> 思考：`List<Map>` 该如何注入？

## 3. 注入构造器参数常量

**概念：** 
- `<bean>` 的子标签 `<constructor-arg>` 专门负责对实体类有参构造器参数常量进行注入。
- `<constructor-arg>` 有三个属性：
    - `index`：构造器的角标。
    - `value`：对应参数的值。
    - `type`：对应参数的类型，如果只有一个有参构造器，则可以省略，但如果出现多个构造器重载的情况，则必须用 `type` 来明确指定注入哪一个构造器，否则程序默认注入第一个符合要求的构造器。
- 此方法可以替代工厂模式。

**配置：** spring/di/app-constructor.xml
```xml
<bean id="emp" class="com.joe.pojo.Emp">
    <constructor-arg index="0" value="3" type="double"/>
    <constructor-arg index="1" value="4" type="double"/>
</bean>
```

**源码：** junit测试
```java
@Test
public void diConstructor() {
    String configLocation = "spring/di/app-constructor.xml";
    ClassPathXmlApplicationContext app = new ClassPathXmlApplicationContext(configLocation);
    app.getBean(Emp.class);
    app.close();
}
```
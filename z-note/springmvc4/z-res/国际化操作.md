# 1. 国际化属性文件

**概念：** 
- 检查工作空间中属性文件的默认编码是否是UTF-8。
- 创建属性文件，格式为：`基名_语言_地区.properties`，位置是直接放在 `classpath` 下。

**配置：** i18n_zh_CN.properties
```txt
title=请登录您的账号
username=账号
password=密码
submit=登录
```

**配置：** i18n_en_US.properties
```txt
title=plz login your account!
username=username
password=password
submit=login
```

# 2. 国际化属性文件配置

**概念：** `ResourceBundleMessageSource` 类可以帮我们加载国际化属性文件。
- `id=messageSource`：这id值是固定的。
- `basenames`：你国际化属性文件的基名。
- 程序会在响应的时候自动寻找 `ResourceBundleMessageSource` 并加载它，所以不能直接访问页面，需要借用一个动作类方法完成响应的动作。

**配置：** springmvc.xml
```xml
<bean id="messageSource" 
      class="org.springframework.context.support.ResourceBundleMessageSource">
    
    <property name="basenames" value="i18n"/>
    <property name="defaultEncoding" value="utf-8"/>
</bean>
```

# 3. 动作类

**源码：** I18nController.java
```java
/**
 * @author JoeZhou
 */
@Controller
@RequestMapping("i18n")
public class I18nController {

    @RequestMapping("i18n.action")
    public String i18n() {
        return "forward:/view/i18n.jsp";
    }
}
```

# 4. 使用spring标签读取国际化文件

**概念：** 
- i18n.jsp中引入spring标签：
`<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>`
- `<spring:message>` 标签通过code来读取国际化属性文件中的值。

**布局：** i18n.jsp
```html
<h1><spring:message code="title"/></h1>
<form action="">
    <label><spring:message code="username"/></label>
    <label><input type="text"/></label><br/>
    <label><spring:message code="password"/></label>
    <label><input type="password"/></label><br/>
    <button><spring:message code="submit"/></button>
</form>
```

![](https://user-gold-cdn.xitu.io/2020/6/9/17298640079dd115?w=700&h=498&f=png&s=24431 "谷歌浏览器切换语言方式，切换后刷新即可。")

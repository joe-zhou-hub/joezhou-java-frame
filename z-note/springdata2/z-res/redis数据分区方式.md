# 节点取余

**概念：**
- 在客户端进行分区，先对数据key值进行哈希操作，然后再进行取余操作。
- 缺点：节点伸缩时数据需要迁移，建议翻倍扩容以减轻迁移量。

# 一致性哈希

**概念：** 
- 预设一个token环，数值范围是0~2^32。
- 在token环上均匀设置N个节点。
- 对数据的key值进行哈希操作，一定分布在两个节点范围内。
- 按照顺时针方向找到离这个哈希值最近的节点。
- 添加新节点时只会影响到两个节点，而不会影响其他的节点。
- 缺点：数据分步可能不均匀。
    
# 虚拟槽分区

**概念：** redis-cluster默认使用：
- 预设虚拟槽0-16383范围，每个槽映射一个数据子集，一般比节点数大。
- 数据的key值进行对16383取余，结果一定分布在两个节点范围内。